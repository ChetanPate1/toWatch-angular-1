function countdownTimer(e,t){function o(t,o){function n(e,t){var o=Math.abs(e-t);if(e-t<0||!e)return[0,0,0,0];var n=Math.floor(o/a.day);o-=n*a.day;var r=Math.floor(o/a.hour)%a.hour;o-=r*a.hour;var i=Math.floor(o/a.minute)%a.hour;return o-=i*a.minute,[n,r,i,Math.floor(o)]}function r(e){var t={},o=["day","hour","min","sec"],n=0;for(n;n<4;n++)t[o[n].charAt(0)]={name:o[n],val:"0"+e[n]},e[n]>1&&e[n]<10&&(t[o[n].charAt(0)]={name:o[n]+"s",val:"0"+e[n]}),e[n]>9&&(t[o[n].charAt(0)]={name:o[n]+"s",val:""+e[n]});return t}var a={now:function(){return(new Date).getTime()/1e3},future:t.to/1e3,day:86400,hour:3600,minute:60};e(function(){t.counter=r(n(a.future,a.now()))},1e3)}return{link:o,templateUrl:"components/countdown-timer/countdown-timer.html",restrict:"E",scope:{to:"="}}}function frostGlass(e){return{templateUrl:"components/frost-glass/frost-glass.html",restrict:"E",transclude:!0,scope:{imgsrc:"="}}}function NavigationBarController(e,t){function o(){"close"==close&&(a.open=!1),a.open=!a.open}function n(){return e.$getAuth()}function r(){e.$signOut(),t.go("home")}var a=this;a.open=!1,a.toggleOpen=o,a.userSignedIn=n,a.logout=r}function navigationBar(){return{templateUrl:"components/navigation-bar/navigation-bar.html",restrict:"E",controller:"NavigationBarController",controllerAs:"NavbarCtrl"}}function rewatchCard(){return{templateUrl:"components/rewatch-card/rewatch-card.html",restrict:"E",transclude:{seasonInfo:"seasonInfo",frostGlass:"frostGlass"},scope:{heading:"=",subheading:"=",details:"=",imgsrc:"=",visible:"="}}}function seasonInfo(e){function t(t){function o(){t.open=!t.open}function n(e){t.tabActive=e}function r(e){return t.tabActive==e}function a(e,o,n,r){var a=parseInt(n.airDate),i=parseInt(e[o].on.episode),l=r===i||r===i-1&&t.tabActive.toString()==e[o].on.season;Math.abs(a-u)/1e3<0||!l||(n.watched=!n.watched,s(e[o].show,e,o),e.$save(o))}function i(e){return(e=parseInt(e))-u<0}function s(t,o,n){for(var r=(parseInt(o[n].on.episode),parseInt(o[n].on.season)),a="season_"+r,i=e.objSize(t[a]),s=0,l=1;l<=i;l++)1==t[a][l].watched&&s++,s==i&&(r++,s=0);o[n].on.episode=(s+1).toString(),o[n].on.season=r.toString()}function l(e,t){return e.length>t?e.substring(0,t)+"...":e}var u=(new Date).getTime();t.open=!1,t.deleteOpen=!1,t.toggleOpen=o,t.tabActive=t.currentseason,t.tabSelect=n,t.isTabSelected=r,t.save=a,t.hasAired=i,t.currentSeason=s,t.limitLength=l}return{link:t,templateUrl:"components/season-info/season-info.html",restrict:"E",scope:{seasons:"=",currentseason:"=",rewatchobj:"=",index:"="}}}function seasonTabs(e){function t(t){function o(){t.open=!t.open}function n(e){t.tabActive=e}function r(e){return t.tabActive==e}function a(e,o,n,r){var a=parseInt(n.airDate),i=parseInt(e[o].on.episode),s=r===i||r===i-1&&t.tabActive.toString()==e[o].on.season;Math.abs(a-d)/1e3<0||!s||(n.watched=!n.watched,l(e[o].show,e,o),e.$save(o))}function i(e){if(e){e=parseInt(e);var t=Math.abs(e-d)/1e3,o={aired:e-d<0};return e-d<0?(o.by="-"+Math.ceil(t/86400)+" days",Math.ceil(t/86400)>30&&(o.by="aired")):o.by="not aired",o}}function s(e){return(e=parseInt(e))-d<0}function l(t,o,n){for(var r=(parseInt(o[n].on.episode),parseInt(o[n].on.season)),a="season_"+r,i=e.objSize(t[a]),s=0,l=1;l<=i;l++)1==t[a][l].watched&&s++,s==i&&(r++,s=0);o[n].on.episode=(s+1).toString(),o[n].on.season=r.toString()}function u(e,t){return e.length>t?e.substring(0,t)+"...":e}var d=(new Date).getTime();t.open=!1,t.deleteOpen=!1,t.toggleOpen=o,t.tabActive=t.currentseason,t.tabSelect=n,t.isTabSelected=r,t.save=a,t.hasAired=s,t.currentSeason=l,t.limitLength=u,t.aired=i}return{link:t,templateUrl:"components/season-tabs/season-tabs.html",restrict:"E",scope:{open:"=",seasons:"=",currentseason:"="}}}function showCard(){return{templateUrl:"components/show-card/show-card.html",restrict:"E",scope:{heading:"=",imgsrc:"="}}}function watchlistCard(e){function t(t){function o(e){t[e]=!t[e]}function n(e,o,n,r,i){var s=parseInt(r.airDate),l=parseInt(e[o].on.episode),u=t.tabActive.toString()==e[o].on.season,d=i==l||i==l-1&&u;console.log("episodeNumber",i,"isOneLessOneMore ",d,"isCurrentTab",u),s-c>0||!d||(r.watched=!r.watched,a(n,e,o),e.$save(o))}function r(e){if(e){e=parseInt(e);var t=Math.abs(e-c)/1e3,o={aired:e-c<0};return e-c<0?(o.by="-"+Math.ceil(t/86400)+" days",Math.ceil(t/86400)>30&&(o.by="aired")):o.by="not aired",o}}function a(t,o,n){var r,a=parseInt(o[n].on.season),i=a+1,s=void 0==o[n].unwatched["season_"+i],l=e.objSize(t)+a,u=0,d=1,c=0,p=1,f=t["season_"+a];for(a;a<l;a++){for(r=t["season_"+a],c=e.objSize(r),d;d<c;d++)r[d].watched&&u++,r[d].watched||(p=u+1);d=1}p==f.length?(o[n].on.season=i,o[n].on.episode=1):o[n].on.episode=p,s&&p==f.length&&(o[n].upToDate=!0)}function i(e){t.tabActive=e}function s(e){return t.tabActive==e}function l(e){return(e=parseInt(e))-c<0}function u(e,t){return e.length>t?e.substring(0,t)+"...":e}function d(t,o){var n,o=parseInt(o),r=e.objSize(t)+o,a=0,i=1,s=0;for(o;o<r;o++){for(n=t["season_"+o],s=e.objSize(n),i;i<s;i++)!n[i].watched&&n[i].airDate-c<0&&a++;i=1}return a>0?"-"+a:a}var c=(new Date).getTime();t.deleteOpen=!1,t.open=!1,t.upToDate=!1,t.toggleOpen=o,t.save=n,t.aired=r,t.countWatched=a,t.tabActive=t.currentseason,t.tabSelect=i,t.isTabSelected=s,t.hasAired=l,t.limitLength=u,t.behindCount=d}return{link:t,templateUrl:"components/watchlist-card/watchlist-card.html",restrict:"E",transclude:{frostGlass:"frostGlass"},scope:{heading:"=",subheading:"=",details:"=",imgsrc:"=",seasons:"=",currentseason:"=",watchlistobj:"=",index:"="}}}function config(e,t){e.state("home",{url:"/home",templateUrl:"home/home.html",controller:"HomeController",controllerAs:"HomeCtrl"}).state("signin",{url:"/signin",templateUrl:"signin/sign.html",controller:"SigninController",controllerAs:"SigninCtrl"}).state("watchlist",{url:"/watchlist",templateUrl:"watchlist/watchlist.html",controller:"WatchlistController",controllerAs:"WatchlistCtrl",resolve:{currentAuth:["firebaseAuth",function(e){return e.$requireSignIn()}]}}).state("rewatch",{url:"/rewatch",templateUrl:"rewatchlist/rewatch.html",controller:"RewatchController",controllerAs:"RewatchCtrl",resolve:{currentAuth:["firebaseAuth",function(e){return e.$requireSignIn()}]}}).state("shows",{url:"/shows",templateUrl:"shows/shows.html",controller:"ShowsController",controllerAs:"ShowsCtrl",resolve:{currentAuth:["firebaseAuth",function(e){return e.$requireSignIn()}]}}),t.otherwise("home")}function runBlock(e,t){e.$on("$stateChangeError",function(e,o,n,r,a,i){"AUTH_REQUIRED"===i&&t.go("signin")})}function HomeController(e){var t=this;t.mostPopular={},e.getMostPopular().then(function(e){t.mostPopular=e})}function RewatchController(e,t,o,n){function r(){var e={showId:i.seriesRef,on:{season:"1",episode:"1"},show:a(i.shows.$getRecord(i.seriesRef).seasons)};t.save(s,e)}function a(e){for(var t=n.objSize(e),o=1;o<=t;o++){seasonsSize=n.objSize(e["season_"+o]);for(var r=1;r<=seasonsSize;r++)e["season_"+o][r].watched=!1}return e}var i=this,s="rewatch/"+e.uid;i.rewatch=t.getByRef(s),i.shows=t.getByRef("shows"),i.add=r}function episodateApi(e,t,o){function n(){return e({method:"GET",url:"https://www.episodate.com/api/most-popular?page=1"}).then(function(e){return e.data.tv_shows})}function r(o){return e({method:"GET",url:"https://www.episodate.com/api/show-details?q="+o}).then(function(e){return 0!==t.objSize(e.data.tvShow.episodes)&&a(e.data.tvShow)})}function a(e){var o=e.episodes,n={},r=t.objSize(o)-1,a=1,i=1,s=0,l={};for(l.seasons=[],l.series=e.name,l.imgSrc=e.image_path,l.imgSrcSm=e.image_thumbnail_path,l.status=e.status,n["season_"+a]={},s;s<r&&(n["season_"+a][i]={name:o[s].name,number:o[s].episode,airDate:t.dateToMs(o[s].air_date)},!(s>r-1));s++)o[s+1].season===a?i++:(i=1,a++,n["season_"+a]={}),l.seasons=n;return l}return{getMostPopular:n,getShow:r}}function firebaseArray(e){function t(t,o){var t=firebase.database().ref(t);return e(t).$add(o)}function o(t){var t=firebase.database().ref(t);return e(t)}return{save:t,getByRef:o}}function firebaseAuth(e){return e()}function helperFunctions(){function e(e){var t=0;for(var o in e){if(!e.hasOwnProperty(o))break;++t}return t}function t(e){return e.replace(/\s+/g,"-")}function o(e){return new Date(e).getTime()}return{objSize:e,spacesToDashes:t,dateToMs:o}}function ShowsController(e,t,o,n){function r(){var r=a.series;a.series&&(a.sendStatus.disableButton=!0,a.sendStatus.loader=!0,r=o.spacesToDashes(r),t.getShow(r).then(function(t){n(function(){t.seasons&&(e.save("shows",t),a.series=""),a.sendStatus.disableButton=!1,a.sendStatus.loader=!1},2e3)}))}var a=this;a.shows=e.getByRef("shows"),a.add=r,a.sendStatus={disableButton:!1,loader:!1}}function SigninController(e,t){function o(){r.email,r.password;e.$signInWithEmailAndPassword(r.email,r.password).then(function(e){t.go("shows")}).catch(function(e){console.log(e)})}function n(){r.email,r.password;e.$createUserWithEmailAndPassword(r.email,r.password).then(function(e){t.go("shows")}).catch(function(e){console.log(e)})}var r=this;r.login=o,r.signup=n}function WatchlistController(e,t,o,n,r){function a(){var e={upToDate:!1,showId:d.seriesRef,on:{season:d.season,episode:d.episode},unwatched:{}};e.unwatched=i(e),t.save(c,e),d.seriesRef="",d.season="",d.episode="",d.popupOpen=!1}function i(e){var t={},o=d.shows.$getRecord(e.showId),r=n.objSize(o.seasons),a=parseInt(e.on.episode),i=parseInt(e.on.season),s=i;n.objSize(o.seasons["season_"+i]);for(s;s<=r;s++){seasonsSize=n.objSize(o.seasons["season_"+s]),t["season_"+s]=o.seasons["season_"+s],t["season_"+s][0]=s;for(var l=1;l<=seasonsSize;l++)t["season_"+s][l].watched=!1,l<a&&s==i&&(t["season_"+s][l].watched=!0)}return t}function s(e){var t,o=1,r=1,a={},i=d.shows.$getRecord(e.showId),s=n.objSize(i.seasons),l=i.seasons["season_"+s],u=n.objSize(l),c=parseInt(e.on.episode);parseInt(e.on.season);for(r;r<=u;r++)a[r]={watched:!1,airDate:l[r].airDate},r<c&&(a[r].watched=!0);for(o;o<=u;o++)if(a[o].aired=!0,l[o].airDate-p>0){a[o].aired=!1,t=l[o].airDate;break}return{unwatched:a,nextAired:t}}function l(e){return(e=parseInt(e))-p<0}function u(){d.popupOpen=!0}var d=this,c="watchlist/"+e.uid,p=(new Date).getTime();d.popupOpen=!1,d.watchlist=t.getByRef(c),d.shows=t.getByRef("shows"),d.add=a,d.nextAired=s,d.checkAired=l,d.openPopup=u}angular.module("app").directive("countdownTimer",countdownTimer),countdownTimer.$inject=["$interval","helperFunctions"],angular.module("app").directive("frostGlass",frostGlass),angular.module("app").controller("NavigationBarController",NavigationBarController),NavigationBarController.$inject=["firebaseAuth","$state"],angular.module("app").directive("navigationBar",navigationBar),angular.module("app").directive("rewatchCard",rewatchCard),angular.module("app").directive("seasonInfo",seasonInfo),angular.module("app").directive("seasonTabs",seasonTabs),angular.module("app").directive("showCard",showCard),angular.module("ui.bootstrap",["ui.bootstrap.modal","ui.bootstrap.multiMap","ui.bootstrap.stackedMap","ui.bootstrap.position"]),angular.module("ui.bootstrap.modal",["ui.bootstrap.multiMap","ui.bootstrap.stackedMap","ui.bootstrap.position"]).provider("$uibResolve",function(){var e=this;this.resolver=null,this.setResolver=function(e){this.resolver=e},this.$get=["$injector","$q",function(t,o){var n=e.resolver?t.get(e.resolver):null;return{resolve:function(e,r,a,i){if(n)return n.resolve(e,r,a,i);var s=[];return angular.forEach(e,function(e){s.push(angular.isFunction(e)||angular.isArray(e)?o.resolve(t.invoke(e)):angular.isString(e)?o.resolve(t.get(e)):o.resolve(e))}),o.all(s).then(function(t){var o={},n=0;return angular.forEach(e,function(e,r){o[r]=t[n++]}),o})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(e,t,o){function n(t,n,r){r.modalInClass&&(e.addClass(n,r.modalInClass),t.$on(o.NOW_CLOSING_EVENT,function(o,a){var i=a();t.modalOptions.animation?e.removeClass(n,r.modalInClass).then(i):i()}))}return{restrict:"A",compile:function(e,t){return e.addClass(t.backdropClass),n}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(e,t,o,n){return{scope:{index:"@"},restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/modal/window.html"},link:function(r,a,i){a.addClass(i.windowTopClass||""),r.size=i.size,r.close=function(t){var o=e.getTop();o&&o.value.backdrop&&"static"!==o.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(o.key,"backdrop click"))},a.on("click",r.close),r.$isRendered=!0;var s=t.defer();r.$$postDigest(function(){s.resolve()}),s.promise.then(function(){var s=null;i.modalInClass&&(s=o(a,{addClass:i.modalInClass}).start(),r.$on(e.NOW_CLOSING_EVENT,function(e,t){var n=t();o(a,{removeClass:i.modalInClass}).start().then(n)})),t.when(s).then(function(){var t=e.getTop();if(t&&e.modalRendered(t.key),!n[0].activeElement||!a[0].contains(n[0].activeElement)){var o=a[0].querySelector("[autofocus]");o?o.focus():a[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.uibModalAnimationClass)}}}).directive("uibModalTransclude",["$animate",function(e){return{link:function(t,o,n,r,a){a(t.$parent,function(t){o.empty(),e.enter(t,o)})}}}]).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(e,t,o,n,r,a,i,s,l){function u(e){return e.replace(I,function(e,t){return(t?"-":"")+e.toLowerCase()})}function d(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}function c(){for(var e=-1,t=S.keys(),o=0;o<t.length;o++)S.get(t[o]).value.backdrop&&(e=o);return e>-1&&T>e&&(e=T),e}function p(e,t){var o=S.get(e).value,n=o.appendTo;S.remove(e),A=S.top(),A&&(T=parseInt(A.value.modalDomEl.attr("index"),10)),m(o.modalDomEl,o.modalScope,function(){var t=o.openedClass||C;k.remove(t,e);var r=k.hasKey(t);n.toggleClass(t,r),!r&&y&&y.heightOverflow&&y.scrollbarWidth&&(n.css(y.originalRight?{paddingRight:y.originalRight+"px"}:{paddingRight:""}),y=null),f(!0)},o.closedDeferred),h(),t&&t.focus?t.focus():n.focus&&n.focus()}function f(e){var t;S.length()>0&&(t=S.top().value,t.modalDomEl.toggleClass(t.windowTopClass||"",e))}function h(){if(w&&-1===c()){var e=$;m(w,$,function(){e=null}),w=void 0,$=void 0}}function m(t,o,n,r){function i(){i.done||(i.done=!0,e.leave(t).then(function(){n&&n(),t.remove(),r&&r.resolve()}),o.$destroy())}var s,l=null,u=function(){return s||(s=a.defer(),l=s.promise),function(){s.resolve()}};return o.$broadcast(M.NOW_CLOSING_EVENT,u),a.when(l).then(i)}function g(e){if(e.isDefaultPrevented())return e;var t=S.top();if(t)switch(e.which){case 27:t.value.keyboard&&(e.preventDefault(),r.$apply(function(){M.dismiss(t.key,"escape key press")}));break;case 9:var o=M.loadFocusElementList(t),n=!1;e.shiftKey?(M.isFocusInFirstItem(e,o)||M.isModalFocused(e,t))&&(n=M.focusLastFocusableElement(o)):M.isFocusInLastItem(e,o)&&(n=M.focusFirstFocusableElement(o)),n&&(e.preventDefault(),e.stopPropagation())}}function b(e,t,o){return!e.value.modalScope.$broadcast("modal.closing",t,o).defaultPrevented}function v(){Array.prototype.forEach.call(document.querySelectorAll("["+E+"]"),function(e){var t=parseInt(e.getAttribute(E),10),o=t-1;e.setAttribute(E,o),o||(e.removeAttribute(E),e.removeAttribute("aria-hidden"))})}var w,$,y,C="modal-open",S=s.createNew(),k=i.createNew(),M={NOW_CLOSING_EVENT:"modal.stack.now-closing"},T=0,A=null,E="data-bootstrap-modal-aria-hidden-count",I=/[A-Z]/g;return r.$watch(c,function(e){$&&($.index=e)}),o.on("keydown",g),r.$on("$destroy",function(){o.off("keydown",g)}),M.open=function(t,a){function i(e){if(e&&"BODY"!==e[0].tagName)return function(e){var t=e.parent()?e.parent().children():[];return Array.prototype.filter.call(t,function(t){return t!==e[0]})}(e).forEach(function(e){var t="true"===e.getAttribute("aria-hidden"),o=parseInt(e.getAttribute(E),10);o||(o=t?1:0),e.setAttribute(E,o+1),e.setAttribute("aria-hidden","true")}),i(e.parent())}var s=o[0].activeElement,d=a.openedClass||C;f(!1),A=S.top(),S.add(t,{deferred:a.deferred,renderDeferred:a.renderDeferred,closedDeferred:a.closedDeferred,modalScope:a.scope,backdrop:a.backdrop,keyboard:a.keyboard,openedClass:a.openedClass,windowTopClass:a.windowTopClass,animation:a.animation,appendTo:a.appendTo}),k.put(d,t);var p=a.appendTo,h=c();h>=0&&!w&&($=r.$new(!0),$.modalOptions=a,$.index=h,w=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>'),w.attr({class:"modal-backdrop","ng-style":"{'z-index': 1040 + (index && 1 || 0) + index*10}","uib-modal-animation-class":"fade","modal-in-class":"in"}),a.backdropClass&&w.addClass(a.backdropClass),a.animation&&w.attr("modal-animation","true"),n(w)($),e.enter(w,p),l.isScrollable(p)&&(y=l.scrollbarPadding(p),y.heightOverflow&&y.scrollbarWidth&&p.css({paddingRight:y.right+"px"})));var m;a.component?(m=document.createElement(u(a.component.name)),m=angular.element(m),m.attr({resolve:"$resolve","modal-instance":"$uibModalInstance",close:"$close($value)",dismiss:"$dismiss($value)"})):m=a.content,T=A?parseInt(A.value.modalDomEl.attr("index"),10)+1:0;var g=angular.element('<div uib-modal-window="modal-window"></div>');g.attr({class:"modal","template-url":a.windowTemplateUrl,"window-top-class":a.windowTopClass,role:"dialog","aria-labelledby":a.ariaLabelledBy,"aria-describedby":a.ariaDescribedBy,size:a.size,index:T,animate:"animate","ng-style":"{'z-index': 1050 + $$topModalIndex*10, display: 'block'}",tabindex:-1,"uib-modal-animation-class":"fade","modal-in-class":"in"}).append(m),a.windowClass&&g.addClass(a.windowClass),a.animation&&g.attr("modal-animation","true"),p.addClass(d),a.scope&&(a.scope.$$topModalIndex=T),e.enter(n(g)(a.scope),p),S.top().value.modalDomEl=g,S.top().value.modalOpener=s,i(g)},M.close=function(e,t){var o=S.get(e);return v(),o&&b(o,t,!0)?(o.value.modalScope.$$uibDestructionScheduled=!0,o.value.deferred.resolve(t),p(e,o.value.modalOpener),!0):!o},M.dismiss=function(e,t){var o=S.get(e);return v(),o&&b(o,t,!1)?(o.value.modalScope.$$uibDestructionScheduled=!0,o.value.deferred.reject(t),p(e,o.value.modalOpener),!0):!o},M.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},M.getTop=function(){return S.top()},M.modalRendered=function(e){var t=S.get(e);t&&t.value.renderDeferred.resolve()},M.focusFirstFocusableElement=function(e){return e.length>0&&(e[0].focus(),!0)},M.focusLastFocusableElement=function(e){return e.length>0&&(e[e.length-1].focus(),!0)},M.isModalFocused=function(e,t){if(e&&t){var o=t.value.modalDomEl;if(o&&o.length)return(e.target||e.srcElement)===o[0]}return!1},M.isFocusInFirstItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[0]},M.isFocusInLastItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[t.length-1]},M.loadFocusElementList=function(e){if(e){var t=e.value.modalDomEl;if(t&&t.length){var o=t[0].querySelectorAll("a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]");return o?Array.prototype.filter.call(o,function(e){return d(e)}):o}}},M}]).provider("$uibModal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(t,o,n,r,a,i,s){function l(e){return e.template?o.when(e.template):r(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}var u={},d=null;return u.getPromiseChain=function(){return d},u.open=function(r){function u(){return g}var c=o.defer(),p=o.defer(),f=o.defer(),h=o.defer(),m={result:c.promise,opened:p.promise,closed:f.promise,rendered:h.promise,close:function(e){return s.close(m,e)},dismiss:function(e){return s.dismiss(m,e)}};if(r=angular.extend({},e.options,r),r.resolve=r.resolve||{},r.appendTo=r.appendTo||n.find("body").eq(0),!r.appendTo.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");if(!r.component&&!r.template&&!r.templateUrl)throw new Error("One of component or template or templateUrl options is required.");var g;g=r.component?o.when(i.resolve(r.resolve,{},null,null)):o.all([l(r),i.resolve(r.resolve,{},null,null)]);var b;return b=d=o.all([d]).then(u,u).then(function(e){function o(t,o,n,r){t.$scope=i,t.$scope.$resolve={},n?t.$scope.$uibModalInstance=m:t.$uibModalInstance=m;var a=o?e[1]:e;angular.forEach(a,function(e,o){r&&(t[o]=e),t.$scope.$resolve[o]=e})}var n=r.scope||t,i=n.$new();i.$close=m.close,i.$dismiss=m.dismiss,i.$on("$destroy",function(){i.$$uibDestructionScheduled||i.$dismiss("$uibUnscheduledDestruction")});var l,u,d={scope:i,deferred:c,renderDeferred:h,closedDeferred:f,animation:r.animation,backdrop:r.backdrop,keyboard:r.keyboard,backdropClass:r.backdropClass,windowTopClass:r.windowTopClass,windowClass:r.windowClass,windowTemplateUrl:r.windowTemplateUrl,ariaLabelledBy:r.ariaLabelledBy,ariaDescribedBy:r.ariaDescribedBy,size:r.size,openedClass:r.openedClass,appendTo:r.appendTo},g={},b={};r.component?(o(g,!1,!0,!1),g.name=r.component,d.component=g):r.controller&&(o(b,!0,!1,!0),u=a(r.controller,b,!0,r.controllerAs),r.controllerAs&&r.bindToController&&(l=u.instance,l.$close=i.$close,l.$dismiss=i.$dismiss,angular.extend(l,{$resolve:b.$scope.$resolve},n)),l=u(),angular.isFunction(l.$onInit)&&l.$onInit()),r.component||(d.content=e[0]),s.open(m,d),p.resolve(!0)},function(e){p.reject(e),c.reject(e)}).finally(function(){d===b&&(d=null)}),m},u}]};return e}),angular.module("ui.bootstrap.multiMap",[]).factory("$$multiMap",function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map(function(t){return{key:t,value:e[t]}})},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,o){e[t]||(e[t]=[]),e[t].push(o)},remove:function(t,o){var n=e[t];if(n){var r=n.indexOf(o);-1!==r&&n.splice(r,1),n.length||delete e[t]}}}}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,o){e.push({key:t,value:o})},get:function(t){for(var o=0;o<e.length;o++)if(t===e[o].key)return e[o]},keys:function(){for(var t=[],o=0;o<e.length;o++)t.push(e[o].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var o=-1,n=0;n<e.length;n++)if(t===e[n].key){o=n;break}return e.splice(o,1)[0]},removeTop:function(){return e.pop()},length:function(){return e.length}}}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(e,t){var o,n,r={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},a={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},i=/(HTML|BODY)/;return{getRawNode:function(e){return e.nodeName?e:e[0]||e},parseStyle:function(e){return e=parseFloat(e),isFinite(e)?e:0},offsetParent:function(o){o=this.getRawNode(o);for(var n=o.offsetParent||e[0].documentElement;n&&n!==e[0].documentElement&&function(e){return"static"===(t.getComputedStyle(e).position||"static")}(n);)n=n.offsetParent;return n||e[0].documentElement},scrollbarWidth:function(r){if(r){if(angular.isUndefined(n)){var a=e.find("body");a.addClass("uib-position-body-scrollbar-measure"),n=t.innerWidth-a[0].clientWidth,n=isFinite(n)?n:0,a.removeClass("uib-position-body-scrollbar-measure")}return n}if(angular.isUndefined(o)){var i=angular.element('<div class="uib-position-scrollbar-measure"></div>');e.find("body").append(i),o=i[0].offsetWidth-i[0].clientWidth,o=isFinite(o)?o:0,i.remove()}return o},scrollbarPadding:function(e){e=this.getRawNode(e);var o=t.getComputedStyle(e),n=this.parseStyle(o.paddingRight),r=this.parseStyle(o.paddingBottom),a=this.scrollParent(e,!1,!0),s=this.scrollbarWidth(i.test(a.tagName));return{scrollbarWidth:s,widthOverflow:a.scrollWidth>a.clientWidth,right:n+s,originalRight:n,heightOverflow:a.scrollHeight>a.clientHeight,bottom:r+s,originalBottom:r}},isScrollable:function(e,o){e=this.getRawNode(e);var n=o?r.hidden:r.normal,a=t.getComputedStyle(e);return n.test(a.overflow+a.overflowY+a.overflowX)},scrollParent:function(o,n,a){o=this.getRawNode(o);var i=n?r.hidden:r.normal,s=e[0].documentElement,l=t.getComputedStyle(o);if(a&&i.test(l.overflow+l.overflowY+l.overflowX))return o;var u="absolute"===l.position,d=o.parentElement||s;if(d===s||"fixed"===l.position)return s;for(;d.parentElement&&d!==s;){var c=t.getComputedStyle(d);if(u&&"static"!==c.position&&(u=!1),!u&&i.test(c.overflow+c.overflowY+c.overflowX))break;d=d.parentElement}return d},position:function(o,n){o=this.getRawNode(o);var r=this.offset(o);if(n){var a=t.getComputedStyle(o);r.top-=this.parseStyle(a.marginTop),r.left-=this.parseStyle(a.marginLeft)}var i=this.offsetParent(o),s={top:0,left:0};return i!==e[0].documentElement&&(s=this.offset(i),s.top+=i.clientTop-i.scrollTop,s.left+=i.clientLeft-i.scrollLeft),{width:Math.round(angular.isNumber(r.width)?r.width:o.offsetWidth),height:Math.round(angular.isNumber(r.height)?r.height:o.offsetHeight),top:Math.round(r.top-s.top),left:Math.round(r.left-s.left)}},offset:function(o){o=this.getRawNode(o);var n=o.getBoundingClientRect();return{width:Math.round(angular.isNumber(n.width)?n.width:o.offsetWidth),height:Math.round(angular.isNumber(n.height)?n.height:o.offsetHeight),top:Math.round(n.top+(t.pageYOffset||e[0].documentElement.scrollTop)),left:Math.round(n.left+(t.pageXOffset||e[0].documentElement.scrollLeft))}},viewportOffset:function(o,n,r){o=this.getRawNode(o),r=!1!==r;var a=o.getBoundingClientRect(),i={top:0,left:0,bottom:0,right:0},s=n?e[0].documentElement:this.scrollParent(o),l=s.getBoundingClientRect();if(i.top=l.top+s.clientTop,i.left=l.left+s.clientLeft,s===e[0].documentElement&&(i.top+=t.pageYOffset,i.left+=t.pageXOffset),i.bottom=i.top+s.clientHeight,i.right=i.left+s.clientWidth,r){var u=t.getComputedStyle(s);i.top+=this.parseStyle(u.paddingTop),i.bottom-=this.parseStyle(u.paddingBottom),i.left+=this.parseStyle(u.paddingLeft),i.right-=this.parseStyle(u.paddingRight)}return{top:Math.round(a.top-i.top),bottom:Math.round(i.bottom-a.bottom),left:Math.round(a.left-i.left),right:Math.round(i.right-a.right)}},parsePlacement:function(e){var t=a.auto.test(e);return t&&(e=e.replace(a.auto,"")),e=e.split("-"),e[0]=e[0]||"top",a.primary.test(e[0])||(e[0]="top"),e[1]=e[1]||"center",a.secondary.test(e[1])||(e[1]="center"),e[2]=!!t,e},positionElements:function(e,o,n,r){e=this.getRawNode(e),o=this.getRawNode(o);var i=angular.isDefined(o.offsetWidth)?o.offsetWidth:o.prop("offsetWidth"),s=angular.isDefined(o.offsetHeight)?o.offsetHeight:o.prop("offsetHeight");n=this.parsePlacement(n);var l=r?this.offset(e):this.position(e),u={top:0,left:0,placement:""};if(n[2]){var d=this.viewportOffset(e,r),c=t.getComputedStyle(o),p={width:i+Math.round(Math.abs(this.parseStyle(c.marginLeft)+this.parseStyle(c.marginRight))),height:s+Math.round(Math.abs(this.parseStyle(c.marginTop)+this.parseStyle(c.marginBottom)))};if(n[0]="top"===n[0]&&p.height>d.top&&p.height<=d.bottom?"bottom":"bottom"===n[0]&&p.height>d.bottom&&p.height<=d.top?"top":"left"===n[0]&&p.width>d.left&&p.width<=d.right?"right":"right"===n[0]&&p.width>d.right&&p.width<=d.left?"left":n[0],n[1]="top"===n[1]&&p.height-l.height>d.bottom&&p.height-l.height<=d.top?"bottom":"bottom"===n[1]&&p.height-l.height>d.top&&p.height-l.height<=d.bottom?"top":"left"===n[1]&&p.width-l.width>d.right&&p.width-l.width<=d.left?"right":"right"===n[1]&&p.width-l.width>d.left&&p.width-l.width<=d.right?"left":n[1],"center"===n[1])if(a.vertical.test(n[0])){var f=l.width/2-i/2;d.left+f<0&&p.width-l.width<=d.right?n[1]="left":d.right+f<0&&p.width-l.width<=d.left&&(n[1]="right")}else{var h=l.height/2-p.height/2;d.top+h<0&&p.height-l.height<=d.bottom?n[1]="top":d.bottom+h<0&&p.height-l.height<=d.top&&(n[1]="bottom")}}switch(n[0]){case"top":u.top=l.top-s;break;case"bottom":u.top=l.top+l.height;break;case"left":u.left=l.left-i;break;case"right":u.left=l.left+l.width}switch(n[1]){case"top":u.top=l.top;break;case"bottom":u.top=l.top+l.height-s;break;case"left":u.left=l.left;break;case"right":u.left=l.left+l.width-i;break;case"center":a.vertical.test(n[0])?u.left=l.left+l.width/2-i/2:u.top=l.top+l.height/2-s/2}return u.top=Math.round(u.top),u.left=Math.round(u.left),u.placement="center"===n[1]?n[0]:n[0]+"-"+n[1],u},adjustTop:function(e,t,o,n){return-1!==e.indexOf("top")&&o!==n?{top:t.top-n+"px"}:void 0},positionArrow:function(e,o){e=this.getRawNode(e);var n=e.querySelector(".tooltip-inner, .popover-inner");if(n){var r=angular.element(n).hasClass("tooltip-inner"),i=e.querySelector(r?".tooltip-arrow":".arrow");if(i){var s={top:"",bottom:"",left:"",right:""};if(o=this.parsePlacement(o),"center"===o[1])return void angular.element(i).css(s);var l="border-"+o[0]+"-width",u=t.getComputedStyle(i)[l],d="border-";d+=a.vertical.test(o[0])?o[0]+"-"+o[1]:o[1]+"-"+o[0],d+="-radius";var c=t.getComputedStyle(r?n:e)[d];switch(o[0]){case"top":s.bottom=r?"0":"-"+u;break;case"bottom":s.top=r?"0":"-"+u;break;case"left":s.right=r?"0":"-"+u;break;case"right":s.left=r?"0":"-"+u}s[o[1]]=c,angular.element(i).css(s)}}}}}]),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.modal","ui.bootstrap.multiMap","ui.bootstrap.stackedMap","ui.bootstrap.position"]),angular.module("ui.bootstrap.tpls",["uib/template/modal/window.html"]),angular.module("ui.bootstrap.modal",["ui.bootstrap.multiMap","ui.bootstrap.stackedMap","ui.bootstrap.position"]).provider("$uibResolve",function(){var e=this;this.resolver=null,this.setResolver=function(e){this.resolver=e},this.$get=["$injector","$q",function(t,o){var n=e.resolver?t.get(e.resolver):null;return{resolve:function(e,r,a,i){if(n)return n.resolve(e,r,a,i);var s=[];return angular.forEach(e,function(e){s.push(angular.isFunction(e)||angular.isArray(e)?o.resolve(t.invoke(e)):angular.isString(e)?o.resolve(t.get(e)):o.resolve(e))}),o.all(s).then(function(t){var o={},n=0;return angular.forEach(e,function(e,r){o[r]=t[n++]}),o})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(e,t,o){function n(t,n,r){r.modalInClass&&(e.addClass(n,r.modalInClass),t.$on(o.NOW_CLOSING_EVENT,function(o,a){var i=a();t.modalOptions.animation?e.removeClass(n,r.modalInClass).then(i):i()}))}return{restrict:"A",compile:function(e,t){return e.addClass(t.backdropClass),n}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(e,t,o,n){return{scope:{index:"@"},restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/modal/window.html"},link:function(r,a,i){a.addClass(i.windowTopClass||""),r.size=i.size,r.close=function(t){var o=e.getTop();o&&o.value.backdrop&&"static"!==o.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(o.key,"backdrop click"))},a.on("click",r.close),r.$isRendered=!0;var s=t.defer();r.$$postDigest(function(){s.resolve()}),s.promise.then(function(){var s=null;i.modalInClass&&(s=o(a,{addClass:i.modalInClass}).start(),r.$on(e.NOW_CLOSING_EVENT,function(e,t){var n=t();o(a,{removeClass:i.modalInClass}).start().then(n)})),t.when(s).then(function(){var t=e.getTop();if(t&&e.modalRendered(t.key),!n[0].activeElement||!a[0].contains(n[0].activeElement)){
var o=a[0].querySelector("[autofocus]");o?o.focus():a[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.uibModalAnimationClass)}}}).directive("uibModalTransclude",["$animate",function(e){return{link:function(t,o,n,r,a){a(t.$parent,function(t){o.empty(),e.enter(t,o)})}}}]).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(e,t,o,n,r,a,i,s,l){function u(e){return e.replace(I,function(e,t){return(t?"-":"")+e.toLowerCase()})}function d(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}function c(){for(var e=-1,t=S.keys(),o=0;o<t.length;o++)S.get(t[o]).value.backdrop&&(e=o);return e>-1&&T>e&&(e=T),e}function p(e,t){var o=S.get(e).value,n=o.appendTo;S.remove(e),A=S.top(),A&&(T=parseInt(A.value.modalDomEl.attr("index"),10)),m(o.modalDomEl,o.modalScope,function(){var t=o.openedClass||C;k.remove(t,e);var r=k.hasKey(t);n.toggleClass(t,r),!r&&y&&y.heightOverflow&&y.scrollbarWidth&&(n.css(y.originalRight?{paddingRight:y.originalRight+"px"}:{paddingRight:""}),y=null),f(!0)},o.closedDeferred),h(),t&&t.focus?t.focus():n.focus&&n.focus()}function f(e){var t;S.length()>0&&(t=S.top().value,t.modalDomEl.toggleClass(t.windowTopClass||"",e))}function h(){if(w&&-1===c()){var e=$;m(w,$,function(){e=null}),w=void 0,$=void 0}}function m(t,o,n,r){function i(){i.done||(i.done=!0,e.leave(t).then(function(){n&&n(),t.remove(),r&&r.resolve()}),o.$destroy())}var s,l=null,u=function(){return s||(s=a.defer(),l=s.promise),function(){s.resolve()}};return o.$broadcast(M.NOW_CLOSING_EVENT,u),a.when(l).then(i)}function g(e){if(e.isDefaultPrevented())return e;var t=S.top();if(t)switch(e.which){case 27:t.value.keyboard&&(e.preventDefault(),r.$apply(function(){M.dismiss(t.key,"escape key press")}));break;case 9:var o=M.loadFocusElementList(t),n=!1;e.shiftKey?(M.isFocusInFirstItem(e,o)||M.isModalFocused(e,t))&&(n=M.focusLastFocusableElement(o)):M.isFocusInLastItem(e,o)&&(n=M.focusFirstFocusableElement(o)),n&&(e.preventDefault(),e.stopPropagation())}}function b(e,t,o){return!e.value.modalScope.$broadcast("modal.closing",t,o).defaultPrevented}function v(){Array.prototype.forEach.call(document.querySelectorAll("["+E+"]"),function(e){var t=parseInt(e.getAttribute(E),10),o=t-1;e.setAttribute(E,o),o||(e.removeAttribute(E),e.removeAttribute("aria-hidden"))})}var w,$,y,C="modal-open",S=s.createNew(),k=i.createNew(),M={NOW_CLOSING_EVENT:"modal.stack.now-closing"},T=0,A=null,E="data-bootstrap-modal-aria-hidden-count",I=/[A-Z]/g;return r.$watch(c,function(e){$&&($.index=e)}),o.on("keydown",g),r.$on("$destroy",function(){o.off("keydown",g)}),M.open=function(t,a){function i(e){if(e&&"BODY"!==e[0].tagName)return function(e){var t=e.parent()?e.parent().children():[];return Array.prototype.filter.call(t,function(t){return t!==e[0]})}(e).forEach(function(e){var t="true"===e.getAttribute("aria-hidden"),o=parseInt(e.getAttribute(E),10);o||(o=t?1:0),e.setAttribute(E,o+1),e.setAttribute("aria-hidden","true")}),i(e.parent())}var s=o[0].activeElement,d=a.openedClass||C;f(!1),A=S.top(),S.add(t,{deferred:a.deferred,renderDeferred:a.renderDeferred,closedDeferred:a.closedDeferred,modalScope:a.scope,backdrop:a.backdrop,keyboard:a.keyboard,openedClass:a.openedClass,windowTopClass:a.windowTopClass,animation:a.animation,appendTo:a.appendTo}),k.put(d,t);var p=a.appendTo,h=c();h>=0&&!w&&($=r.$new(!0),$.modalOptions=a,$.index=h,w=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>'),w.attr({class:"modal-backdrop","ng-style":"{'z-index': 1040 + (index && 1 || 0) + index*10}","uib-modal-animation-class":"fade","modal-in-class":"in"}),a.backdropClass&&w.addClass(a.backdropClass),a.animation&&w.attr("modal-animation","true"),n(w)($),e.enter(w,p),l.isScrollable(p)&&(y=l.scrollbarPadding(p),y.heightOverflow&&y.scrollbarWidth&&p.css({paddingRight:y.right+"px"})));var m;a.component?(m=document.createElement(u(a.component.name)),m=angular.element(m),m.attr({resolve:"$resolve","modal-instance":"$uibModalInstance",close:"$close($value)",dismiss:"$dismiss($value)"})):m=a.content,T=A?parseInt(A.value.modalDomEl.attr("index"),10)+1:0;var g=angular.element('<div uib-modal-window="modal-window"></div>');g.attr({class:"modal","template-url":a.windowTemplateUrl,"window-top-class":a.windowTopClass,role:"dialog","aria-labelledby":a.ariaLabelledBy,"aria-describedby":a.ariaDescribedBy,size:a.size,index:T,animate:"animate","ng-style":"{'z-index': 1050 + $$topModalIndex*10, display: 'block'}",tabindex:-1,"uib-modal-animation-class":"fade","modal-in-class":"in"}).append(m),a.windowClass&&g.addClass(a.windowClass),a.animation&&g.attr("modal-animation","true"),p.addClass(d),a.scope&&(a.scope.$$topModalIndex=T),e.enter(n(g)(a.scope),p),S.top().value.modalDomEl=g,S.top().value.modalOpener=s,i(g)},M.close=function(e,t){var o=S.get(e);return v(),o&&b(o,t,!0)?(o.value.modalScope.$$uibDestructionScheduled=!0,o.value.deferred.resolve(t),p(e,o.value.modalOpener),!0):!o},M.dismiss=function(e,t){var o=S.get(e);return v(),o&&b(o,t,!1)?(o.value.modalScope.$$uibDestructionScheduled=!0,o.value.deferred.reject(t),p(e,o.value.modalOpener),!0):!o},M.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},M.getTop=function(){return S.top()},M.modalRendered=function(e){var t=S.get(e);t&&t.value.renderDeferred.resolve()},M.focusFirstFocusableElement=function(e){return e.length>0&&(e[0].focus(),!0)},M.focusLastFocusableElement=function(e){return e.length>0&&(e[e.length-1].focus(),!0)},M.isModalFocused=function(e,t){if(e&&t){var o=t.value.modalDomEl;if(o&&o.length)return(e.target||e.srcElement)===o[0]}return!1},M.isFocusInFirstItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[0]},M.isFocusInLastItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[t.length-1]},M.loadFocusElementList=function(e){if(e){var t=e.value.modalDomEl;if(t&&t.length){var o=t[0].querySelectorAll("a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]");return o?Array.prototype.filter.call(o,function(e){return d(e)}):o}}},M}]).provider("$uibModal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(t,o,n,r,a,i,s){function l(e){return e.template?o.when(e.template):r(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}var u={},d=null;return u.getPromiseChain=function(){return d},u.open=function(r){function u(){return g}var c=o.defer(),p=o.defer(),f=o.defer(),h=o.defer(),m={result:c.promise,opened:p.promise,closed:f.promise,rendered:h.promise,close:function(e){return s.close(m,e)},dismiss:function(e){return s.dismiss(m,e)}};if(r=angular.extend({},e.options,r),r.resolve=r.resolve||{},r.appendTo=r.appendTo||n.find("body").eq(0),!r.appendTo.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");if(!r.component&&!r.template&&!r.templateUrl)throw new Error("One of component or template or templateUrl options is required.");var g;g=r.component?o.when(i.resolve(r.resolve,{},null,null)):o.all([l(r),i.resolve(r.resolve,{},null,null)]);var b;return b=d=o.all([d]).then(u,u).then(function(e){function o(t,o,n,r){t.$scope=i,t.$scope.$resolve={},n?t.$scope.$uibModalInstance=m:t.$uibModalInstance=m;var a=o?e[1]:e;angular.forEach(a,function(e,o){r&&(t[o]=e),t.$scope.$resolve[o]=e})}var n=r.scope||t,i=n.$new();i.$close=m.close,i.$dismiss=m.dismiss,i.$on("$destroy",function(){i.$$uibDestructionScheduled||i.$dismiss("$uibUnscheduledDestruction")});var l,u,d={scope:i,deferred:c,renderDeferred:h,closedDeferred:f,animation:r.animation,backdrop:r.backdrop,keyboard:r.keyboard,backdropClass:r.backdropClass,windowTopClass:r.windowTopClass,windowClass:r.windowClass,windowTemplateUrl:r.windowTemplateUrl,ariaLabelledBy:r.ariaLabelledBy,ariaDescribedBy:r.ariaDescribedBy,size:r.size,openedClass:r.openedClass,appendTo:r.appendTo},g={},b={};r.component?(o(g,!1,!0,!1),g.name=r.component,d.component=g):r.controller&&(o(b,!0,!1,!0),u=a(r.controller,b,!0,r.controllerAs),r.controllerAs&&r.bindToController&&(l=u.instance,l.$close=i.$close,l.$dismiss=i.$dismiss,angular.extend(l,{$resolve:b.$scope.$resolve},n)),l=u(),angular.isFunction(l.$onInit)&&l.$onInit()),r.component||(d.content=e[0]),s.open(m,d),p.resolve(!0)},function(e){p.reject(e),c.reject(e)}).finally(function(){d===b&&(d=null)}),m},u}]};return e}),angular.module("ui.bootstrap.multiMap",[]).factory("$$multiMap",function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map(function(t){return{key:t,value:e[t]}})},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,o){e[t]||(e[t]=[]),e[t].push(o)},remove:function(t,o){var n=e[t];if(n){var r=n.indexOf(o);-1!==r&&n.splice(r,1),n.length||delete e[t]}}}}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,o){e.push({key:t,value:o})},get:function(t){for(var o=0;o<e.length;o++)if(t===e[o].key)return e[o]},keys:function(){for(var t=[],o=0;o<e.length;o++)t.push(e[o].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var o=-1,n=0;n<e.length;n++)if(t===e[n].key){o=n;break}return e.splice(o,1)[0]},removeTop:function(){return e.pop()},length:function(){return e.length}}}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(e,t){var o,n,r={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},a={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},i=/(HTML|BODY)/;return{getRawNode:function(e){return e.nodeName?e:e[0]||e},parseStyle:function(e){return e=parseFloat(e),isFinite(e)?e:0},offsetParent:function(o){o=this.getRawNode(o);for(var n=o.offsetParent||e[0].documentElement;n&&n!==e[0].documentElement&&function(e){return"static"===(t.getComputedStyle(e).position||"static")}(n);)n=n.offsetParent;return n||e[0].documentElement},scrollbarWidth:function(r){if(r){if(angular.isUndefined(n)){var a=e.find("body");a.addClass("uib-position-body-scrollbar-measure"),n=t.innerWidth-a[0].clientWidth,n=isFinite(n)?n:0,a.removeClass("uib-position-body-scrollbar-measure")}return n}if(angular.isUndefined(o)){var i=angular.element('<div class="uib-position-scrollbar-measure"></div>');e.find("body").append(i),o=i[0].offsetWidth-i[0].clientWidth,o=isFinite(o)?o:0,i.remove()}return o},scrollbarPadding:function(e){e=this.getRawNode(e);var o=t.getComputedStyle(e),n=this.parseStyle(o.paddingRight),r=this.parseStyle(o.paddingBottom),a=this.scrollParent(e,!1,!0),s=this.scrollbarWidth(i.test(a.tagName));return{scrollbarWidth:s,widthOverflow:a.scrollWidth>a.clientWidth,right:n+s,originalRight:n,heightOverflow:a.scrollHeight>a.clientHeight,bottom:r+s,originalBottom:r}},isScrollable:function(e,o){e=this.getRawNode(e);var n=o?r.hidden:r.normal,a=t.getComputedStyle(e);return n.test(a.overflow+a.overflowY+a.overflowX)},scrollParent:function(o,n,a){o=this.getRawNode(o);var i=n?r.hidden:r.normal,s=e[0].documentElement,l=t.getComputedStyle(o);if(a&&i.test(l.overflow+l.overflowY+l.overflowX))return o;var u="absolute"===l.position,d=o.parentElement||s;if(d===s||"fixed"===l.position)return s;for(;d.parentElement&&d!==s;){var c=t.getComputedStyle(d);if(u&&"static"!==c.position&&(u=!1),!u&&i.test(c.overflow+c.overflowY+c.overflowX))break;d=d.parentElement}return d},position:function(o,n){o=this.getRawNode(o);var r=this.offset(o);if(n){var a=t.getComputedStyle(o);r.top-=this.parseStyle(a.marginTop),r.left-=this.parseStyle(a.marginLeft)}var i=this.offsetParent(o),s={top:0,left:0};return i!==e[0].documentElement&&(s=this.offset(i),s.top+=i.clientTop-i.scrollTop,s.left+=i.clientLeft-i.scrollLeft),{width:Math.round(angular.isNumber(r.width)?r.width:o.offsetWidth),height:Math.round(angular.isNumber(r.height)?r.height:o.offsetHeight),top:Math.round(r.top-s.top),left:Math.round(r.left-s.left)}},offset:function(o){o=this.getRawNode(o);var n=o.getBoundingClientRect();return{width:Math.round(angular.isNumber(n.width)?n.width:o.offsetWidth),height:Math.round(angular.isNumber(n.height)?n.height:o.offsetHeight),top:Math.round(n.top+(t.pageYOffset||e[0].documentElement.scrollTop)),left:Math.round(n.left+(t.pageXOffset||e[0].documentElement.scrollLeft))}},viewportOffset:function(o,n,r){o=this.getRawNode(o),r=!1!==r;var a=o.getBoundingClientRect(),i={top:0,left:0,bottom:0,right:0},s=n?e[0].documentElement:this.scrollParent(o),l=s.getBoundingClientRect();if(i.top=l.top+s.clientTop,i.left=l.left+s.clientLeft,s===e[0].documentElement&&(i.top+=t.pageYOffset,i.left+=t.pageXOffset),i.bottom=i.top+s.clientHeight,i.right=i.left+s.clientWidth,r){var u=t.getComputedStyle(s);i.top+=this.parseStyle(u.paddingTop),i.bottom-=this.parseStyle(u.paddingBottom),i.left+=this.parseStyle(u.paddingLeft),i.right-=this.parseStyle(u.paddingRight)}return{top:Math.round(a.top-i.top),bottom:Math.round(i.bottom-a.bottom),left:Math.round(a.left-i.left),right:Math.round(i.right-a.right)}},parsePlacement:function(e){var t=a.auto.test(e);return t&&(e=e.replace(a.auto,"")),e=e.split("-"),e[0]=e[0]||"top",a.primary.test(e[0])||(e[0]="top"),e[1]=e[1]||"center",a.secondary.test(e[1])||(e[1]="center"),e[2]=!!t,e},positionElements:function(e,o,n,r){e=this.getRawNode(e),o=this.getRawNode(o);var i=angular.isDefined(o.offsetWidth)?o.offsetWidth:o.prop("offsetWidth"),s=angular.isDefined(o.offsetHeight)?o.offsetHeight:o.prop("offsetHeight");n=this.parsePlacement(n);var l=r?this.offset(e):this.position(e),u={top:0,left:0,placement:""};if(n[2]){var d=this.viewportOffset(e,r),c=t.getComputedStyle(o),p={width:i+Math.round(Math.abs(this.parseStyle(c.marginLeft)+this.parseStyle(c.marginRight))),height:s+Math.round(Math.abs(this.parseStyle(c.marginTop)+this.parseStyle(c.marginBottom)))};if(n[0]="top"===n[0]&&p.height>d.top&&p.height<=d.bottom?"bottom":"bottom"===n[0]&&p.height>d.bottom&&p.height<=d.top?"top":"left"===n[0]&&p.width>d.left&&p.width<=d.right?"right":"right"===n[0]&&p.width>d.right&&p.width<=d.left?"left":n[0],n[1]="top"===n[1]&&p.height-l.height>d.bottom&&p.height-l.height<=d.top?"bottom":"bottom"===n[1]&&p.height-l.height>d.top&&p.height-l.height<=d.bottom?"top":"left"===n[1]&&p.width-l.width>d.right&&p.width-l.width<=d.left?"right":"right"===n[1]&&p.width-l.width>d.left&&p.width-l.width<=d.right?"left":n[1],"center"===n[1])if(a.vertical.test(n[0])){var f=l.width/2-i/2;d.left+f<0&&p.width-l.width<=d.right?n[1]="left":d.right+f<0&&p.width-l.width<=d.left&&(n[1]="right")}else{var h=l.height/2-p.height/2;d.top+h<0&&p.height-l.height<=d.bottom?n[1]="top":d.bottom+h<0&&p.height-l.height<=d.top&&(n[1]="bottom")}}switch(n[0]){case"top":u.top=l.top-s;break;case"bottom":u.top=l.top+l.height;break;case"left":u.left=l.left-i;break;case"right":u.left=l.left+l.width}switch(n[1]){case"top":u.top=l.top;break;case"bottom":u.top=l.top+l.height-s;break;case"left":u.left=l.left;break;case"right":u.left=l.left+l.width-i;break;case"center":a.vertical.test(n[0])?u.left=l.left+l.width/2-i/2:u.top=l.top+l.height/2-s/2}return u.top=Math.round(u.top),u.left=Math.round(u.left),u.placement="center"===n[1]?n[0]:n[0]+"-"+n[1],u},adjustTop:function(e,t,o,n){return-1!==e.indexOf("top")&&o!==n?{top:t.top-n+"px"}:void 0},positionArrow:function(e,o){e=this.getRawNode(e);var n=e.querySelector(".tooltip-inner, .popover-inner");if(n){var r=angular.element(n).hasClass("tooltip-inner"),i=e.querySelector(r?".tooltip-arrow":".arrow");if(i){var s={top:"",bottom:"",left:"",right:""};if(o=this.parsePlacement(o),"center"===o[1])return void angular.element(i).css(s);var l="border-"+o[0]+"-width",u=t.getComputedStyle(i)[l],d="border-";d+=a.vertical.test(o[0])?o[0]+"-"+o[1]:o[1]+"-"+o[0],d+="-radius";var c=t.getComputedStyle(r?n:e)[d];switch(o[0]){case"top":s.bottom=r?"0":"-"+u;break;case"bottom":s.top=r?"0":"-"+u;break;case"left":s.right=r?"0":"-"+u;break;case"right":s.left=r?"0":"-"+u}s[o[1]]=c,angular.element(i).css(s)}}}}}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(e){e.put("uib/template/modal/window.html","<div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\"><div class=\"modal-content\" uib-modal-transclude></div></div>\n")}]),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("app").directive("watchlistCard",watchlistCard),angular.module("app",["ui.router","firebase"]),angular.module("app").config(config),config.$inject=["$stateProvider","$urlRouterProvider"],angular.module("app").run(runBlock),runBlock.$inject=["$rootScope","$state"],angular.module("app").controller("HomeController",HomeController),HomeController.$inject=["episodateApi"],angular.module("app").controller("RewatchController",RewatchController),RewatchController.$inject=["currentAuth","firebaseArray","$timeout","helperFunctions"],angular.module("app").service("episodateApi",episodateApi),episodateApi.$inject=["$http","helperFunctions","$timeout"],angular.module("app").factory("firebaseArray",firebaseArray),firebaseArray.$inject=["$firebaseArray"],angular.module("app").factory("firebaseAuth",firebaseAuth),firebaseAuth.$inject=["$firebaseAuth"];var config={apiKey:"AIzaSyBThnFs67ZrJ6J0z6IXkGzT16077IGXk9c",authDomain:"towatch-b9155.firebaseapp.com",databaseURL:"https://towatch-b9155.firebaseio.com",projectId:"towatch-b9155",storageBucket:"towatch-b9155.appspot.com",messagingSenderId:"989986376535"};firebase.initializeApp(config),angular.module("app").factory("helperFunctions",helperFunctions),angular.module("app").controller("ShowsController",ShowsController),ShowsController.$inject=["firebaseArray","episodateApi","helperFunctions","$timeout"],angular.module("app").controller("SigninController",SigninController),SigninController.$inject=["firebaseAuth","$state"],angular.module("app").controller("WatchlistController",WatchlistController),WatchlistController.$inject=["currentAuth","firebaseArray","$timeout","helperFunctions","episodateApi"];