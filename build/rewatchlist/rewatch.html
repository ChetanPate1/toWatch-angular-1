<div class="container">
   <div class="row">
      <button class="button pull-right margin-bottom-30" ng-click="RewatchCtrl.openPopup()">Rewatch a show</div>

      <div class="col-md-4 fade-in" ng-repeat="rewatch in RewatchCtrl.rewatch" ng-if="rewatch.show">
         <rewatch-card
            heading="RewatchCtrl.shows.$getRecord( rewatch.showId ).series"
            subheading="'Season '+ rewatch.on.season +' Episode ' + rewatch.on.episode"
            details="RewatchCtrl.shows.$getRecord( rewatch.showId ).seasons['season_'+ rewatch.on.season ][ rewatch.on.episode ].name"
            imgsrc="RewatchCtrl.shows.$getRecord( rewatch.showId ).imgSrc" >

            <season-info
               seasons="rewatch.show"
               currentseason="rewatch.on.season"
               rewatchobj="RewatchCtrl.rewatch"
               index="$index">
            </season-info>

            <frost-glass imgsrc="RewatchCtrl.shows.$getRecord( rewatch.showId ).imgSrc"></frost-glass>
         </rewatch-card>
      </div>

      <no-content condition="!RewatchCtrl.rewatch[0]" message="'Your rewatchlist is empty!'"></no-content>
   </div>
</div>

<div class="popup slide-down" ng-class="{ 'open': RewatchCtrl.popupOpen }">
   <div class="center">
      <div class="content">
         <h3>Add To Rewatch</h3>
         <form name="form">
            <div class="form-element">
               <label for="series">Series</label>
               <span class="glyphicon glyphicon-chevron-down"></span>
               <select name="series" ng-model="RewatchCtrl.seriesRef">
                  <option ng-repeat="show in RewatchCtrl.shows" ng-selected="{{ show.$id == RewatchCtrl.seriesRef }}"
                     value="{{ show.$id }}">{{ show.series }}
                  </option>
               </select>
            </div>
            <button class="button red" ng-click="RewatchCtrl.popupOpen = false">cancel</button>
            <button class="button pull-right" ng-click="RewatchCtrl.add()">add</button>
         </form>
      </div>
   </div>
</div>
